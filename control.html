<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Door Control</title>
</head>
<body>
  <h1>Smart Door System Control</h1>

  <!-- الأزرار -->
  <button onclick="sendCommand('normal_door')">open door & close it</button>
  <button onclick="sendCommand('door_openn')">open door only</button>
  <button onclick="sendCommand('door_closee')">close door only</button>
  <button onclick="sendCommand('sys_unloc')">unlock system</button>
  <button onclick="sendCommand('sys_loc')">lock system</button>
  <button onclick="sendCommand('sys_pen')">the system penalty</button>
  <button onclick="sendCommand('sys_pen30')">extended to 30 seconds</button>
  <button onclick="sendCommand('sys_pen60')">extended to 1 minutes</button>
  <button onclick="sendCommand('sys_buzzcof')">penalty with coffin dance buzzer</button>
  <button onclick="sendCommand('sys_buzzpoc')">penalty with pirates of the caribbean</button>
  <button onclick="sendCommand('sys_buzztok')">penalty with tokyo</button>
  <button onclick="sendCommand('start_camera')">start camera</button>
  <button onclick="sendCommand('stop_camera')">stop camera</button>

  <script type="module">
    // استيراد Firebase SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    // إعدادات مشروعك
    const firebaseConfig = {
      apiKey: "AIzaSyACQ7ot2G6wvmNRM_hmmTDK8p7zMBQ1w2c",
      authDomain: "smart-door-system-project.firebaseapp.com",
      databaseURL: "https://smart-door-system-project-default-rtdb.firebaseio.com",
      projectId: "smart-door-system-project",
      storageBucket: "smart-door-system-project.firebasestorage.app",
      messagingSenderId: "298920936811",
      appId: "1:298920936811:web:033b6b7af47d93d52f382e",
      measurementId: "G-HY1Y22VZJT"
    };

    // تهيئة Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // دالة تبعت الأمر لفايربيز
    function sendCommand(command) {
      set(ref(db, "commands/last"), {
        action: command,
        timestamp: Date.now()
      });
      alert("✅ Sent: " + command);
    }

    // نخليها متاحة للـ HTML
    window.sendCommand = sendCommand;
  </script>
</body>
</html>
